window.addEventListener("load",function(){const t=document.getElementById("mg-next"),e=document.getElementById("mg-prev"),n=document.querySelectorAll(".gallery-item"),r=document.querySelector(".lightboxImage");let a=0;function l(){const t=document.querySelector(".tags-bar span.active-tag");var e=t?t.getAttribute("data-images-toggle"):"all";return Array.from(n).filter(t=>"all"===e||t.getAttribute("data-gallery-tag")===e)}function i(t){var e=t.getAttribute("src"),t=t.getAttribute("data-index");r.setAttribute("src",e),r.setAttribute("data-index",t)}t.addEventListener("click",t=>{t.preventDefault();t=l();a=(a+1)%t.length,i(t[a])}),e.addEventListener("click",t=>{t.preventDefault();t=l();a=(a-1+t.length)%t.length,i(t[a])}),window.addEventListener("keydown",function(t){var e=l();"ArrowLeft"===t.key?(t.preventDefault(),a=(a-1+e.length)%e.length,i(e[a])):"ArrowRight"===t.key&&(t.preventDefault(),a=(a+1)%e.length,i(e[a]))}),n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),a=parseInt(e.getAttribute("data-index")),i(e)})})});